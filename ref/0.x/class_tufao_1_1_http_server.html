<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>tufao: Tufao::HttpServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">tufao
   &#160;<span id="projectnumber">0.8.1</span>
   </div>
   <div id="projectbrief">An asynchronous web framework for C++ built on top of Qt</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_tufao_1_1_http_server.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_tufao_1_1_http_server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Tufao::HttpServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">Tufao::HttpServer</a> class provides an implementation of the HTTP protocol.  
 <a href="class_tufao_1_1_http_server.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Tufao::HttpServer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_tufao_1_1_http_server__inherit__graph.png" border="0" usemap="#_tufao_1_1_http_server_inherit__map" alt="Inheritance graph"/></div>
<map name="_tufao_1_1_http_server_inherit__map" id="_tufao_1_1_http_server_inherit__map">
<area shape="rect" id="node3" href="class_tufao_1_1_https_server.html" title="Tufao::HttpsServer is a subclass of Tufao::HttpServer that provides secure communication with the cli..." alt="" coords="13,432,171,568"/></map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for Tufao::HttpServer:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_tufao_1_1_http_server__coll__graph.png" border="0" usemap="#_tufao_1_1_http_server_coll__map" alt="Collaboration graph"/></div>
<map name="_tufao_1_1_http_server_coll__map" id="_tufao_1_1_http_server_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a0c18ea2191436f1ff3e0fc9893d62737"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a0c18ea2191436f1ff3e0fc9893d62737">close</a> ()</td></tr>
<tr class="memdesc:a0c18ea2191436f1ff3e0fc9893d62737"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the server.  <a href="#a0c18ea2191436f1ff3e0fc9893d62737">More...</a><br/></td></tr>
<tr class="separator:a0c18ea2191436f1ff3e0fc9893d62737"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a4e2132f99a108a3a1638c38e1695f12c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a4e2132f99a108a3a1638c38e1695f12c">requestReady</a> (<a class="el" href="class_tufao_1_1_http_server_request.html">Tufao::HttpServerRequest</a> *request, <a class="el" href="class_tufao_1_1_http_server_response.html">Tufao::HttpServerResponse</a> *response)</td></tr>
<tr class="memdesc:a4e2132f99a108a3a1638c38e1695f12c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This signal is emitted each time there is request.  <a href="#a4e2132f99a108a3a1638c38e1695f12c">More...</a><br/></td></tr>
<tr class="separator:a4e2132f99a108a3a1638c38e1695f12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a05a1a5a18b907a4a30c21ef89b369d3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a05a1a5a18b907a4a30c21ef89b369d3d">HttpServer</a> (QObject *parent=0)</td></tr>
<tr class="memdesc:a05a1a5a18b907a4a30c21ef89b369d3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">Tufao::HttpServer</a> object.  <a href="#a05a1a5a18b907a4a30c21ef89b369d3d">More...</a><br/></td></tr>
<tr class="separator:a05a1a5a18b907a4a30c21ef89b369d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35225114e6a68e8824ed4874164a8552"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a35225114e6a68e8824ed4874164a8552"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a35225114e6a68e8824ed4874164a8552">~HttpServer</a> ()</td></tr>
<tr class="memdesc:a35225114e6a68e8824ed4874164a8552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the object. <br/></td></tr>
<tr class="separator:a35225114e6a68e8824ed4874164a8552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ebaa69281886b1b8c2b535aaec8cd9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a53ebaa69281886b1b8c2b535aaec8cd9">listen</a> (const QHostAddress &amp;address=QHostAddress::Any, quint16 port=0)</td></tr>
<tr class="memdesc:a53ebaa69281886b1b8c2b535aaec8cd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the server to listen for incoming connections on address <code>address</code> and port <code>port</code>.  <a href="#a53ebaa69281886b1b8c2b535aaec8cd9">More...</a><br/></td></tr>
<tr class="separator:a53ebaa69281886b1b8c2b535aaec8cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37080a6e41bebd2a328ebfb665bd4f11"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37080a6e41bebd2a328ebfb665bd4f11"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a37080a6e41bebd2a328ebfb665bd4f11">isListening</a> () const </td></tr>
<tr class="memdesc:a37080a6e41bebd2a328ebfb665bd4f11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the server is listening for incoming connections. <br/></td></tr>
<tr class="separator:a37080a6e41bebd2a328ebfb665bd4f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9757aa7003eb8b32f8bd7d42d4d506fb"><td class="memItemLeft" align="right" valign="top">quint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a9757aa7003eb8b32f8bd7d42d4d506fb">serverPort</a> () const </td></tr>
<tr class="memdesc:a9757aa7003eb8b32f8bd7d42d4d506fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the server's port if the server is listening; otherwise returns 0.  <a href="#a9757aa7003eb8b32f8bd7d42d4d506fb">More...</a><br/></td></tr>
<tr class="separator:a9757aa7003eb8b32f8bd7d42d4d506fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87546873151939de576a73f65feb6500"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a87546873151939de576a73f65feb6500">setTimeout</a> (int msecs=0)</td></tr>
<tr class="memdesc:a87546873151939de576a73f65feb6500"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the timeout of new connections to <code>msecs</code> miliseconds.  <a href="#a87546873151939de576a73f65feb6500">More...</a><br/></td></tr>
<tr class="separator:a87546873151939de576a73f65feb6500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a812f80b5251faf8c12692a43b5218b06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a812f80b5251faf8c12692a43b5218b06"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a812f80b5251faf8c12692a43b5218b06">timeout</a> () const </td></tr>
<tr class="memdesc:a812f80b5251faf8c12692a43b5218b06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current set timeout. <br/></td></tr>
<tr class="separator:a812f80b5251faf8c12692a43b5218b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8a225fa4f48b7c03ec6095f48d36b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a5c8a225fa4f48b7c03ec6095f48d36b1">setHttpUpgradeRouter</a> (<a class="el" href="class_tufao_1_1_http_upgrade_router.html">HttpUpgradeRouter</a> *router)</td></tr>
<tr class="memdesc:a5c8a225fa4f48b7c03ec6095f48d36b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <a class="el" href="class_tufao_1_1_http_upgrade_router.html" title="This class provides a robust and high performance HTTP upgrade router. ">HttpUpgradeRouter</a> used to handle HTTP upgrades.  <a href="#a5c8a225fa4f48b7c03ec6095f48d36b1">More...</a><br/></td></tr>
<tr class="separator:a5c8a225fa4f48b7c03ec6095f48d36b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af3a58d61091dfc324382543968a8f4d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#af3a58d61091dfc324382543968a8f4d4">handleConnection</a> (QAbstractSocket *connection)</td></tr>
<tr class="memdesc:af3a58d61091dfc324382543968a8f4d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function will make <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">Tufao::HttpServer</a> handle the connection <code>connection</code>.  <a href="#af3a58d61091dfc324382543968a8f4d4">More...</a><br/></td></tr>
<tr class="separator:af3a58d61091dfc324382543968a8f4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682173e7b4cdf472f9f22bcfb16c60f9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a682173e7b4cdf472f9f22bcfb16c60f9">incomingConnection</a> (qintptr socketDescriptor)</td></tr>
<tr class="memdesc:a682173e7b4cdf472f9f22bcfb16c60f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function is called by <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">HttpServer</a> when a new connection is available.  <a href="#a682173e7b4cdf472f9f22bcfb16c60f9">More...</a><br/></td></tr>
<tr class="separator:a682173e7b4cdf472f9f22bcfb16c60f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e83cecc829127a9922a2d5afcf99337"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a6e83cecc829127a9922a2d5afcf99337">checkContinue</a> (<a class="el" href="class_tufao_1_1_http_server_request.html">HttpServerRequest</a> *request, <a class="el" href="class_tufao_1_1_http_server_response.html">HttpServerResponse</a> *response)</td></tr>
<tr class="memdesc:a6e83cecc829127a9922a2d5afcf99337"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function is called by <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">HttpServer</a> when a client do a request with the HTTP header "Expect: 100-continue".  <a href="#a6e83cecc829127a9922a2d5afcf99337">More...</a><br/></td></tr>
<tr class="separator:a6e83cecc829127a9922a2d5afcf99337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a955e6bd2c8ba908898529b858cb872de"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tufao_1_1_http_server.html#a955e6bd2c8ba908898529b858cb872de">upgrade</a> (<a class="el" href="class_tufao_1_1_http_server_request.html">HttpServerRequest</a> *request, const QByteArray &amp;head)</td></tr>
<tr class="memdesc:a955e6bd2c8ba908898529b858cb872de"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function is called by <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">HttpServer</a> when a client requests a http upgrade.  <a href="#a955e6bd2c8ba908898529b858cb872de">More...</a><br/></td></tr>
<tr class="separator:a955e6bd2c8ba908898529b858cb872de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">Tufao::HttpServer</a> class provides an implementation of the HTTP protocol. </p>
<p>The HTTP is a stateless request-response based protoccol. It let you create distributed dynamic collaborative applications.</p>
<p>To create a webserver, all you need to do is call <a class="el" href="class_tufao_1_1_http_server.html#a53ebaa69281886b1b8c2b535aaec8cd9" title="Tells the server to listen for incoming connections on address address and port port. ">Tufao::HttpServer::listen</a> and handle the <a class="el" href="class_tufao_1_1_http_server.html#a4e2132f99a108a3a1638c38e1695f12c" title="This signal is emitted each time there is request. ">Tufao::HttpServer::requestReady</a> signal.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Tufao/HttpServer&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>WebServer: <span class="keyword">public</span> QObject</div>
<div class="line">{</div>
<div class="line">    Q_OBJECT</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> WebServer(QObject *parent = NULL) :</div>
<div class="line">        QObject(parent),</div>
<div class="line">        httpServer(new Tufao::<a class="code" href="class_tufao_1_1_http_server.html#a05a1a5a18b907a4a30c21ef89b369d3d">HttpServer</a>(this))</div>
<div class="line">    {</div>
<div class="line">        connect(httpServer,</div>
<div class="line">                SIGNAL(<a class="code" href="class_tufao_1_1_http_server.html#a4e2132f99a108a3a1638c38e1695f12c">requestReady</a>(<a class="code" href="class_tufao_1_1_http_server_request.html">Tufao::HttpServerRequest</a>*,<a class="code" href="class_tufao_1_1_http_server_response.html">Tufao::HttpServerResponse</a>*),</div>
<div class="line">                <span class="keyword">this</span>,</div>
<div class="line">                SLOT(handleRequest(<a class="code" href="class_tufao_1_1_http_server_request.html">Tufao::HttpServerRequest</a>*,<a class="code" href="class_tufao_1_1_http_server_response.html">Tufao::HttpServerResponse</a>*)));</div>
<div class="line">        httpServer-&gt;listen(QHostAddress::Any, 8080);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="keyword">private</span> slots:</div>
<div class="line">    <span class="keywordtype">void</span> handleRequest(<a class="code" href="class_tufao_1_1_http_server_request.html">Tufao::HttpServerRequest</a> *request,</div>
<div class="line">                       <a class="code" href="class_tufao_1_1_http_server_response.html">Tufao::HttpServerResponse</a> *response)</div>
<div class="line">    {</div>
<div class="line">        response-&gt;<a class="code" href="class_tufao_1_1_http_server_response.html#a92e2c93847baadab863b324e7af862ed">writeHead</a>(200);</div>
<div class="line">        response-&gt;<a class="code" href="class_tufao_1_1_http_server_response.html#a82828ddcd97f9b7d1941284bdb0ec8e6">headers</a>().insert(<span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;text/plain&quot;</span>);</div>
<div class="line">        response-&gt;<a class="code" href="class_tufao_1_1_http_server_response.html#a387db483db24b1ea3c714fc231264f8f">write</a>(<span class="stringliteral">&quot;Hello World\n&quot;</span>);</div>
<div class="line">        response-&gt;<a class="code" href="class_tufao_1_1_http_server_response.html#a1e72bbd8eb9bfb065a713a2ac9ba3b2e">end</a>();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code" href="class_tufao_1_1_http_server.html">Tufao::HttpServer</a> *httpServer;</div>
<div class="line">};</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_tufao_1_1_http_server_request.html" title="The Tufao::HttpServer represents a HTTP request received by Tufao::HttpServer. ">Tufao::HttpServerRequest</a></dd>
<dd>
<a class="el" href="class_tufao_1_1_http_server_response.html" title="The Tufao::HttpServerResponse is used to respond to a Tufao::HttpServerRequest. ">Tufao::HttpServerResponse</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a05a1a5a18b907a4a30c21ef89b369d3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Tufao::HttpServer::HttpServer </td>
          <td>(</td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">Tufao::HttpServer</a> object. </p>
<p><code>parent</code> is passed to the QObject constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6e83cecc829127a9922a2d5afcf99337"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Tufao::HttpServer::checkContinue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tufao_1_1_http_server_request.html">HttpServerRequest</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tufao_1_1_http_server_response.html">HttpServerResponse</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This virtual function is called by <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">HttpServer</a> when a client do a request with the HTTP header "Expect: 100-continue". </p>
<p>The base implementation call Tufao::HttpServerRequest::writeContinue and emit the <a class="el" href="class_tufao_1_1_http_server.html#a4e2132f99a108a3a1638c38e1695f12c" title="This signal is emitted each time there is request. ">Tufao::HttpServer::requestReady</a> signal.</p>
<p>Reimplement this function to alter the server's behavior when a "Expect:
100-continue" request is received.</p>
<dl class="section note"><dt>Note</dt><dd>Don't delete the request or the response object, they will be deleted when the connection closes. If you need delete them before, just close the connection or call the QObject::deleteLater. </dd></dl>

</div>
</div>
<a class="anchor" id="a0c18ea2191436f1ff3e0fc9893d62737"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tufao::HttpServer::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes the server. </p>
<p>The server will no longer listen for incoming connections. </p>

</div>
</div>
<a class="anchor" id="af3a58d61091dfc324382543968a8f4d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tufao::HttpServer::handleConnection </td>
          <td>(</td>
          <td class="paramtype">QAbstractSocket *&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call this function will make <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">Tufao::HttpServer</a> handle the connection <code>connection</code>. </p>
<p>The <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">Tufao::HttpServer</a> object will take ownership of the <code>connection</code> object and delete it when appropriate. </p>

</div>
</div>
<a class="anchor" id="a682173e7b4cdf472f9f22bcfb16c60f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Tufao::HttpServer::incomingConnection </td>
          <td>(</td>
          <td class="paramtype">qintptr&#160;</td>
          <td class="paramname"><em>socketDescriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This virtual function is called by <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">HttpServer</a> when a new connection is available. </p>
<p>The base implementation creates a QTcpSocket, sets the socket descriptor and call <a class="el" href="class_tufao_1_1_http_server.html#af3a58d61091dfc324382543968a8f4d4" title="Call this function will make Tufao::HttpServer handle the connection connection. ">Tufao::HttpServer::handleConnection</a>.</p>
<p>Reimplement this function to alter the server's behavior when a connection is available. </p>

</div>
</div>
<a class="anchor" id="a53ebaa69281886b1b8c2b535aaec8cd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Tufao::HttpServer::listen </td>
          <td>(</td>
          <td class="paramtype">const QHostAddress &amp;&#160;</td>
          <td class="paramname"><em>address</em> = <code>QHostAddress::Any</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">quint16&#160;</td>
          <td class="paramname"><em>port</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the server to listen for incoming connections on address <code>address</code> and port <code>port</code>. </p>
<p>If <code>port</code> is 0, a port is chosen automatically. The default registered port to HTTP server is 80.</p>
<p>If <code>address</code> is QHostAddress::Any, the server will listen on all network interfaces.</p>
<dl class="section return"><dt>Returns</dt><dd>true on success</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_tufao_1_1_http_server.html#a37080a6e41bebd2a328ebfb665bd4f11" title="Returns true if the server is listening for incoming connections. ">Tufao::HttpServer::isListening</a> <a class="el" href="class_tufao_1_1_http_server.html#a9757aa7003eb8b32f8bd7d42d4d506fb" title="Returns the server&#39;s port if the server is listening; otherwise returns 0. ">Tufao::HttpServer::serverPort</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4e2132f99a108a3a1638c38e1695f12c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tufao::HttpServer::requestReady </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tufao_1_1_http_server_request.html">Tufao::HttpServerRequest</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tufao_1_1_http_server_response.html">Tufao::HttpServerResponse</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This signal is emitted each time there is request. </p>
<dl class="section note"><dt>Note</dt><dd>There may be multiple requests per connection (in the case of keep-alive connections) and <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">HttpServer</a> reutilizes <code>request</code> objects, so you can't, as an example, create a map using <code>request</code> as key to identify sessions.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>You MUST NOT delete <code>request</code> and <code>response</code>. <code>request</code> and <code>response</code> are deleted when the connection closes. Additionally, <code>response</code> will also be deleted when you are done with it (eg., calling <a class="el" href="class_tufao_1_1_http_server_response.html#a1e72bbd8eb9bfb065a713a2ac9ba3b2e" title="This method signals to the server that all of the response headers and body has been sent; that serve...">Tufao::HttpServerResponse::end</a>).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If this is a POST request for a big file, you should increase the timeout for this individual request.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>An instance of <a class="el" href="class_tufao_1_1_http_server_request.html" title="The Tufao::HttpServer represents a HTTP request received by Tufao::HttpServer. ">Tufao::HttpServerRequest</a></td></tr>
    <tr><td class="paramname">response</td><td>An instance of <a class="el" href="class_tufao_1_1_http_server_response.html" title="The Tufao::HttpServerResponse is used to respond to a Tufao::HttpServerRequest. ">Tufao::HttpServerResponse</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9757aa7003eb8b32f8bd7d42d4d506fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quint16 Tufao::HttpServer::serverPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the server's port if the server is listening; otherwise returns 0. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_tufao_1_1_http_server.html#a53ebaa69281886b1b8c2b535aaec8cd9" title="Tells the server to listen for incoming connections on address address and port port. ">Tufao::HttpServer::listen</a> <a class="el" href="class_tufao_1_1_http_server.html#a37080a6e41bebd2a328ebfb665bd4f11" title="Returns true if the server is listening for incoming connections. ">Tufao::HttpServer::isListening</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5c8a225fa4f48b7c03ec6095f48d36b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Tufao::HttpServer::setHttpUpgradeRouter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tufao_1_1_http_upgrade_router.html">HttpUpgradeRouter</a> *&#160;</td>
          <td class="paramname"><em>router</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the <a class="el" href="class_tufao_1_1_http_upgrade_router.html" title="This class provides a robust and high performance HTTP upgrade router. ">HttpUpgradeRouter</a> used to handle HTTP upgrades. </p>
<p>The default behaviour is use none routers to handle HTTP upgrades. If you add any router, then the default behaviour will be to use this router, but the default behaviour still can be changed if you override the upgrade method.</p>
<dl class="section note"><dt>Note</dt><dd>If you pass NULL as argument, any previous configured router will be forgotten and not used anymore.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.6 </dd></dl>

</div>
</div>
<a class="anchor" id="a87546873151939de576a73f65feb6500"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Tufao::HttpServer::setTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msecs</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the timeout of new connections to <code>msecs</code> miliseconds. </p>
<p>If you set the timeout to 0, then timeout feature will be disabled. You should NOT disable this feature to help to protect against DoS attacks.</p>
<p>The default timeout is 2 minutes (120000 miliseconds).</p>
<dl class="section note"><dt>Note</dt><dd>You should call this function before <a class="el" href="class_tufao_1_1_http_server.html#a53ebaa69281886b1b8c2b535aaec8cd9" title="Tells the server to listen for incoming connections on address address and port port. ">Tufao::HttpServer::listen</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a955e6bd2c8ba908898529b858cb872de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Tufao::HttpServer::upgrade </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tufao_1_1_http_server_request.html">HttpServerRequest</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This virtual function is called by <a class="el" href="class_tufao_1_1_http_server.html" title="The Tufao::HttpServer class provides an implementation of the HTTP protocol. ">HttpServer</a> when a client requests a http upgrade. </p>
<p>The base implementation closes the connection if no upgrade router is configured or the upgrade router isn't able to handle the request.</p>
<p>Reimplement this function to alter the server's behavior when a http upgrade is requested.</p>
<dl class="section note"><dt>Note</dt><dd>After this function returns, the <code>request</code> object is deleted.</dd>
<dd>
The connection object associated with <code>request</code> (<a class="el" href="class_tufao_1_1_http_server_request.html#a36a51a6e57571183dc94ceae9923d576" title="The QAbstractSocket object associated with the connection. ">Tufao::HttpServerRequest::socket</a>) will be deleted when disconnected. If you need to delete it sooner, just call QIODevice::close or QObject::deleteLater. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="httpserver_8h_source.html">httpserver.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_tufao.html">Tufao</a></li><li class="navelem"><a class="el" href="class_tufao_1_1_http_server.html">HttpServer</a></li>
    <li class="footer">Generated on Wed Jan 1 2014 03:09:27 for tufao by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
